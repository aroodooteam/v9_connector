<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
    <record id="models_mapping_values_1_import_client_r0" model="models.mapping.values">
      <!-- one2many field 'attributes_ids' managed on the attributes.mapping.values side -->
      <field name="sql_model">od_polices</field>
      <field name="name">1- Import Client</field>
      <field name="model_id" ref="account.model_res_partner"/>
      <field name="server_id" ref="v9_connector.sql_server_contract_data_r0"/>
      <field name="sql_request">select distinct ref_client, nom_client, new_compte, 'True' as customer from od_polices
</field>
    </record>
    <record id="attributes_mapping_values_1_import_client_r0" model="attributes.mapping.values">
      <field name="model_id" ref="account.model_res_partner"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_1_import_client_r0"/>
      <field name="current_criteria">[('name','=','%s')]</field>
      <field name="check_rel_field" eval="False"/>
      <field name="name">nom_client</field>
      <field name="fields_id" ref="base.field_res_partner_name"/>
      <field name="check_unicity" eval="True"/>
    </record>
    <record id="attributes_mapping_values_1_import_client_r1" model="attributes.mapping.values">
      <field name="model_id" ref="account.model_res_partner"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_1_import_client_r0"/>
      <field name="current_criteria">[('ref','=','%s')]</field>
      <field name="check_rel_field" eval="False"/>
      <field name="name">ref_client</field>
      <field name="fields_id" ref="base.field_res_partner_ref"/>
      <field name="check_unicity" eval="True"/>
    </record>
    <record id="attributes_mapping_values_1_import_client_r2" model="attributes.mapping.values">
      <field name="model_id" ref="account.model_res_partner"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_1_import_client_r0"/>
      <field name="current_criteria">[('ref_unique','=','%s')]</field>
      <field name="check_rel_field" eval="False"/>
      <field name="name">new_compte</field>
      <field name="fields_id" ref="insurance_management.field_res_partner_ref_unique"/>
      <field name="check_unicity" eval="True"/>
    </record>
    <record id="models_mapping_values_2_import_territoire_fiscal_r0" model="models.mapping.values">
      <!-- one2many field 'attributes_ids' managed on the attributes.mapping.values side -->
      <field name="sql_model">od_polices</field>
      <field name="name">2- Import Territoire fiscal</field>
      <field name="model_id" ref="account.model_account_fiscal_position"/>
      <field name="server_id" ref="v9_connector.sql_server_contract_data_r0"/>
      <field name="sql_request">select terfisc from od_polices</field>
    </record>
    <record id="attributes_mapping_values_2_import_territoire_fiscal_r0" model="attributes.mapping.values">
      <field name="model_id" ref="account.model_account_fiscal_position"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_2_import_territoire_fiscal_r0"/>
      <field name="current_criteria">[('name','=','%s')]</field>
      <field name="check_rel_field" eval="False"/>
      <field name="name">terfisc</field>
      <field name="fields_id" ref="account.field_account_fiscal_position_name"/>
      <field name="check_unicity" eval="True"/>
    </record>
    <record id="models_mapping_values_3_import_police_r0" model="models.mapping.values">
      <!-- one2many field 'attributes_ids' managed on the attributes.mapping.values side -->
      <field name="sql_model">od_polices</field>
      <field name="name">3- Import Police</field>
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="server_id" ref="v9_connector.sql_server_contract_data_r0"/>
      <field name="sql_request">select distinct
	'True' as is_insurance, new_compte as partner_id,
	terfisc, new_compte as insured_id, 'contract' as type,
	branche_code, produit_code, fraction_code,
	pol_ident, numpol, date_creation
from od_polices</field>
    </record>
    <record id="attributes_mapping_values_3_import_police_r0" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="current_criteria">[('name','=','%s')]</field>
      <field name="check_rel_field" eval="False"/>
      <field name="name">numpol</field>
      <field name="fields_id" ref="analytic.field_account_analytic_account_name"/>
      <field name="check_unicity" eval="True"/>
    </record>
    <record id="attributes_mapping_values_3_import_police_r1" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="current_criteria">[('pol_ident','=','%s')]</field>
      <field name="check_rel_field" eval="False"/>
      <field name="name">pol_ident</field>
      <field name="fields_id" ref="insurance_management.field_account_analytic_account_pol_ident"/>
      <field name="check_unicity" eval="True"/>
    </record>
    <record id="attributes_mapping_values_3_import_police_r2" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="check_rel_field" eval="False"/>
      <field name="name">is_insurance</field>
      <field name="fields_id" ref="insurance_management.field_account_analytic_account_is_insurance"/>
      <field name="check_unicity" eval="False"/>
    </record>
    <record id="attributes_mapping_values_3_import_police_r3" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="related_criteria">[('ref_unique','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">partner_id</field>
      <field name="fields_id" ref="analytic.field_account_analytic_account_partner_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="account.model_res_partner"/>
    </record>
    <record id="attributes_mapping_values_3_import_police_r4" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="related_criteria">[('name','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">terfisc</field>
      <field name="fields_id" ref="insurance_management.field_account_analytic_account_property_account_position"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="account.model_account_fiscal_position"/>
    </record>
    <record id="attributes_mapping_values_3_import_police_r5" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="related_criteria">[('ref_unique','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">insured_id</field>
      <field name="fields_id" ref="insurance_management.field_account_analytic_account_insured_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="account.model_res_partner"/>
    </record>
    <record id="attributes_mapping_values_3_import_police_r6" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="check_rel_field" eval="False"/>
      <field name="name">type</field>
      <field name="fields_id" ref="analytic.field_account_analytic_account_type"/>
      <field name="check_unicity" eval="False"/>
    </record>
    <record id="attributes_mapping_values_3_import_police_r7" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="related_criteria">[('code','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">branche_code</field>
      <field name="fields_id" ref="insurance_management.field_account_analytic_account_branch_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="insurance_management.model_insurance_branch"/>
    </record>
    <record id="attributes_mapping_values_3_import_police_r8" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="related_criteria">[('code','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">produit_code</field>
      <field name="fields_id" ref="insurance_management.field_account_analytic_account_ins_product_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="insurance_management.model_insurance_product"/>
    </record>
    <record id="attributes_mapping_values_3_import_police_r9" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="related_criteria">[('code','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">fraction_code</field>
      <field name="fields_id" ref="insurance_management.field_account_analytic_account_fraction_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="insurance_management.model_insurance_fraction"/>
    </record>
    <record id="attributes_mapping_values_3_import_police_r10" model="attributes.mapping.values">
      <field name="model_id" ref="analytic.model_account_analytic_account"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_3_import_police_r0"/>
      <field name="check_rel_field" eval="False"/>
      <field name="name">date_creation</field>
      <field name="fields_id" ref="analytic.field_account_analytic_account_date_start"/>
      <field name="check_unicity" eval="False"/>
    </record>
    <record id="models_mapping_values_4_import_polices_versions_r0" model="models.mapping.values">
      <!-- one2many field 'attributes_ids' managed on the attributes.mapping.values side -->
      <field name="sql_model">od_versions</field>
      <field name="name">4- Import Polices Versions</field>
      <field name="model_id" ref="insurance_management.model_analytic_history"/>
      <field name="server_id" ref="v9_connector.sql_server_contract_data_r0"/>
      <field name="sql_request">select distinct
	ver_ident,ver_ptrpolident,ver_typemission,ver_datedeb,
	ver_datefin,ver_number,
	case
		when is_last_situation = 0 then 'False'
		else 'True'
	end is_last_situation,
	ver_datecre,
	CONVERT(integer, right(ltrim(ver_number),1)) ver_serie,odp.terfisc terfisc
from od_versions odv
left join od_polices odp on odp.pol_ident=odv.ver_ptrpolident
order by ver_ptrpolident,ver_number
</field>
    </record>
    <record id="attributes_mapping_values_4_import_polices_versions_r0" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_4_import_polices_versions_r0"/>
      <field name="current_criteria">[('ver_ident','=','%s')]</field>
      <field name="check_rel_field" eval="False"/>
      <field name="name">ver_ident</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_ver_ident"/>
      <field name="check_unicity" eval="True"/>
    </record>
    <record id="attributes_mapping_values_4_import_polices_versions_r1" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_4_import_polices_versions_r0"/>
      <field name="related_criteria">[('pol_ident','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">ver_ptrpolident</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_analytic_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="analytic.model_account_analytic_account"/>
    </record>
    <!--
    <record id="attributes_mapping_values_4_import_polices_versions_r2" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_4_import_polices_versions_r0"/>
      <field name="related_criteria">[('code','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">ver_typemission</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_stage_id_6208"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="insurance_management.model_analytic_history_stage"/>
    </record>
    -->
    <record id="attributes_mapping_values_4_import_polices_versions_r3" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_4_import_polices_versions_r0"/>
      <field name="check_rel_field" eval="False"/>
      <field name="name">ver_datedeb</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_starting_date"/>
      <field name="check_unicity" eval="False"/>
    </record>
    <record id="attributes_mapping_values_4_import_polices_versions_r4" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_4_import_polices_versions_r0"/>
      <field name="check_rel_field" eval="False"/>
      <field name="name">ver_datefin</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_ending_date"/>
      <field name="check_unicity" eval="False"/>
    </record>
    <record id="attributes_mapping_values_4_import_polices_versions_r5" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_4_import_polices_versions_r0"/>
      <field name="check_rel_field" eval="False"/>
      <field name="name">is_last_situation</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_is_last_situation"/>
      <field name="check_unicity" eval="False"/>
    </record>
    <record id="attributes_mapping_values_4_import_polices_versions_r6" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_4_import_polices_versions_r0"/>
      <field name="related_criteria">[('name','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">terfisc</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_property_account_position"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="account.model_account_fiscal_position"/>
    </record>
    <record id="models_mapping_values_5_import_type_de_risques_objet_de_risque_r0" model="models.mapping.values">
      <!-- one2many field 'attributes_ids' managed on the attributes.mapping.values side -->
      <field name="sql_model">od_primes_lignes</field>
      <field name="name">5- Import type de risques (Objet de risque)</field>
      <field name="model_id" ref="insurance_management.model_analytic_history_risk_line"/>
      <field name="server_id" ref="v9_connector.sql_server_contract_data_r0"/>
      <field name="sql_request">select distinct 
	str(lpr_ident) lpr_ident,str(lpr_ptrprmident) lpr_ptrprmident,str(prm_ptrpolident) prm_ptrpolident,product_id,
	RIGHT(product_id,5) type_risk_id,description,odprml.compte,
	quantity,unit_price,te,tva,montant_ht,odprm.new_compte,
	odprm.prm_ptrverident, str(odprml.lpr_ident) + '_' + str(odprm.prm_ptrverident) as lpr_prm
from od_primes_lignes odprml
left join od_primes odprm on odprm.prm_ident = odprml.lpr_ptrprmident
where product_id != 'FRAI3'
order by lpr_ptrprmident</field>
    </record>
    <record id="attributes_mapping_values_5_import_type_de_risques_objet_de_risque_r0" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history_risk_line"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_5_import_type_de_risques_objet_de_risque_r0"/>
      <field name="related_criteria">[('ver_ident','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">prm_ptrverident</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_risk_line_history_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="insurance_management.model_analytic_history"/>
    </record>
    <record id="attributes_mapping_values_5_import_type_de_risques_objet_de_risque_r1" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history_risk_line"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_5_import_type_de_risques_objet_de_risque_r0"/>
      <field name="related_criteria">[('ref_unique','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">new_compte</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_risk_line_partner_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="account.model_res_partner"/>
    </record>
    <record id="attributes_mapping_values_5_import_type_de_risques_objet_de_risque_r2" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history_risk_line"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_5_import_type_de_risques_objet_de_risque_r0"/>
      <field name="related_criteria">[('code','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">type_risk_id</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_risk_line_type_risk_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="insurance_management.model_insurance_type_risk"/>
    </record>
    <record id="attributes_mapping_values_5_import_type_de_risques_objet_de_risque_r3" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_analytic_history_risk_line"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_5_import_type_de_risques_objet_de_risque_r0"/>
      <field name="current_criteria">[('name','=','%s')]</field>
      <field name="check_rel_field" eval="False"/>
      <field name="name">lpr_prm</field>
      <field name="fields_id" ref="insurance_management.field_analytic_history_risk_line_name"/>
      <field name="check_unicity" eval="True"/>
    </record>
    <record id="models_mapping_values_6_import_garantie_dans_type_de_risques_r0" model="models.mapping.values">
      <!-- one2many field 'attributes_ids' managed on the attributes.mapping.values side -->
      <field name="sql_model">od_primes_lignes</field>
      <field name="name">6- Import Garantie dans type de risques</field>
      <field name="model_id" ref="insurance_management.model_risk_warranty_line"/>
      <field name="server_id" ref="v9_connector.sql_server_contract_data_r0"/>
      <field name="sql_request">select distinct 
	str(lpr_ident) lpr_ident,str(lpr_ptrprmident) lpr_ptrprmident,str(prm_ptrpolident) prm_ptrpolident,product_id,
	RIGHT(product_id,5) type_risk_id,description,odprml.compte,
	quantity,unit_price,te,tva,montant_ht,odprm.new_compte,
	odprm.prm_ptrverident, str(odprml.lpr_ident) + '_' + str(odprm.prm_ptrverident) as lpr_prm
from od_primes_lignes odprml
left join od_primes odprm on odprm.prm_ident = odprml.lpr_ptrprmident
where product_id != 'FRAI3'
order by lpr_ptrprmident</field>
    </record>
    <record id="attributes_mapping_values_6_import_garantie_dans_type_de_risques_r0" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_risk_warranty_line"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_6_import_garantie_dans_type_de_risques_r0"/>
      <field name="related_criteria">[('name','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">lpr_prm</field>
      <field name="fields_id" ref="insurance_management.field_risk_warranty_line_history_risk_line_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="insurance_management.model_analytic_history_risk_line"/>
    </record>
    <record id="attributes_mapping_values_6_import_garantie_dans_type_de_risques_r1" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_risk_warranty_line"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_6_import_garantie_dans_type_de_risques_r0"/>
      <field name="related_criteria">[('default_code','=','%s')]</field>
      <field name="check_rel_field" eval="True"/>
      <field name="name">product_id</field>
      <field name="fields_id" ref="insurance_management.field_risk_warranty_line_warranty_id"/>
      <field name="check_unicity" eval="False"/>
      <field name="rel_model_id" ref="product.model_product_product"/>
    </record>
    <record id="attributes_mapping_values_6_import_garantie_dans_type_de_risques_r2" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_risk_warranty_line"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_6_import_garantie_dans_type_de_risques_r0"/>
      <field name="check_rel_field" eval="False"/>
      <field name="name">montant_ht</field>
      <field name="fields_id" ref="insurance_management.field_risk_warranty_line_proratee_net_amount"/>
      <field name="check_unicity" eval="False"/>
    </record>
    <record id="attributes_mapping_values_6_import_garantie_dans_type_de_risques_r3" model="attributes.mapping.values">
      <field name="model_id" ref="insurance_management.model_risk_warranty_line"/>
      <field name="models_mapping_id" ref="v9_connector.models_mapping_values_6_import_garantie_dans_type_de_risques_r0"/>
      <field name="current_criteria">[('name','=','%s')]</field>
      <field name="check_rel_field" eval="False"/>
      <field name="name">lpr_prm</field>
      <field name="fields_id" ref="insurance_management.field_risk_warranty_line_name"/>
      <field name="check_unicity" eval="True"/>
    </record>
  </data>
</openerp>